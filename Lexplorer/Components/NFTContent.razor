@using Lexplorer.Models;

@if (!String.IsNullOrEmpty(nftMetadata?.animationURL) && nftMetadata?.animationURL != nftMetadata?.imageURL && (!String.IsNullOrEmpty(nftMetadata?.contentType) && nftMetadata.contentType.Contains("video"))) //Show video
{
    <video width="512" height="512" controls>
        <source src="@nftMetadata?.animationURL">
        Your browser does not support the video tag.
    </video>
}
else if (!String.IsNullOrEmpty(nftMetadata?.animationURL) && nftMetadata?.animationURL != nftMetadata?.imageURL && (!String.IsNullOrEmpty(nftMetadata?.contentType) && nftMetadata.contentType.Contains("audio"))) //Show audio
{
    <img src="@nftMetadata?.imageURL" Width="512" Height="512" />
    <br />
    <audio controls>
        <source src="@nftMetadata?.animationURL">
        Your browser does not support the audio element.
    </audio>
}
else if (!String.IsNullOrEmpty(nftMetadata?.animationURL) && nftMetadata?.animationURL != nftMetadata?.imageURL && (!String.IsNullOrEmpty(nftMetadata?.contentType) && nftMetadata.contentType.Contains("image"))) //Show full resolution image
{
    <img src="@nftMetadata?.animationURL" Width="512" Height="512" />
}
else if (!String.IsNullOrEmpty(nftMetadata?.animationURL) && nftMetadata?.animationURL != nftMetadata?.imageURL && (!String.IsNullOrEmpty(nftMetadata?.contentType) && nftMetadata.contentType.Contains("model"))) //Show 3d model
{
    <style>
        model-viewer {
            width: 512px;
            height: 512px;
        }
    </style>
    <model-viewer bounds="tight" enable-pan src="@nftMetadata?.animationURL" ar ar-modes="webxr scene-viewer quick-look" camera-controls environment-image="neutral" poster="@nftMetadata?.imageURL" shadow-intensity="1"></model-viewer>
}
else //Does not have video,audio,3d or a full resolution image
{
    <img src="@nftMetadata?.imageURL" Width="512" Height="512" />
}


@code {
    [Parameter]
    public NftMetadata? nftMetadata { get; set; }

}

